
<div class="container mt-4">
  <h2 class="mb-4">User List</h2>
  <div class="table-responsive">
    <table class="table table-striped table-hover">
      <thead class="table-light">
      <tr>
        <th>First name</th>
        <th>Last name</th>
        <th>Email</th>
        <th>Can Create Users</th>
        <th>Can Read Users</th>
        <th>Can Update Users</th>
        <th>Can Delete Users</th>
        <th>Can Search Order</th>
        <th>Can Place Order</th>
        <th>Can Cancel Order</th>
        <th>Can Track Order</th>
        <th>Can Schedule Order</th>
        <th *ngIf="canDeleteUser()">Delete User</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let user of users">
        <td>{{ user.firstname }}</td>
        <td>{{ user.lastname }}</td>
        <td>
          <a href="#" *ngIf="canUpdateUser()" (click)="updateUser(user.email); $event.preventDefault()">
            {{ user.email }}
          </a>
          <span *ngIf="!canUpdateUser()">{{ user.email }}</span></td>
        <td>
    <span class="badge" [ngClass]="user.permissions.has('can_create_users') ? 'bg-success' : 'bg-danger'">
      {{ user.permissions.has('can_create_users') ? 'Yes' : 'No' }}
    </span>
        </td>
        <td>
    <span class="badge" [ngClass]="user.permissions.has('can_read_users') ? 'bg-success' : 'bg-danger'">
      {{ user.permissions.has('can_read_users') ? 'Yes' : 'No' }}
    </span>
        </td>
        <td>
    <span class="badge" [ngClass]="user.permissions.has('can_update_users') ? 'bg-success' : 'bg-danger'">
      {{ user.permissions.has('can_update_users') ? 'Yes' : 'No' }}
    </span>
        </td>
        <td>
    <span class="badge" [ngClass]="user.permissions.has('can_delete_users') ? 'bg-success' : 'bg-danger'">
      {{ user.permissions.has('can_delete_users') ? 'Yes' : 'No' }}
    </span>
        </td>
        <td>
    <span class="badge" [ngClass]="user.permissions.has('can_search_order') ? 'bg-success' : 'bg-danger'">
      {{ user.permissions.has('can_search_order') ? 'Yes' : 'No' }}
    </span>
        </td>
        <td>
    <span class="badge" [ngClass]="user.permissions.has('can_place_order') ? 'bg-success' : 'bg-danger'">
      {{ user.permissions.has('can_place_order') ? 'Yes' : 'No' }}
    </span>
        </td>
        <td>
    <span class="badge" [ngClass]="user.permissions.has('can_cancel_order') ? 'bg-success' : 'bg-danger'">
      {{ user.permissions.has('can_cancel_order') ? 'Yes' : 'No' }}
    </span>
        </td>
        <td>
    <span class="badge" [ngClass]="user.permissions.has('can_track_order') ? 'bg-success' : 'bg-danger'">
      {{ user.permissions.has('can_track_order') ? 'Yes' : 'No' }}
    </span>
        </td>
        <td>
    <span class="badge" [ngClass]="user.permissions.has('can_schedule_order') ? 'bg-success' : 'bg-danger'">
      {{ user.permissions.has('can_schedule_order') ? 'Yes' : 'No' }}
    </span>
        </td>

        <!-- Action Buttons -->
        <td>
          <button class="btn btn-danger btn-sm" *ngIf="canDeleteUser()" (click)="deleteUser(user.email)">
            Delete
          </button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
